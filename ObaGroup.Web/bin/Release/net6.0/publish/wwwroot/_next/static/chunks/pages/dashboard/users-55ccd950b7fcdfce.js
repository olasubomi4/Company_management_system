(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},47306:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users",function(){return t(8493)}])},85825:function(e,s,t){"use strict";var a=t(85893),r=t(17064);let l=e=>{let{className:s,onClick:t,children:l,type:n,variant:o="contained",loading:i}=e;return(0,a.jsx)(r.E.button,{whileTap:{y:1.5},onClick:t,type:n,className:"rounded-md capitalize p-2  min-w-[100px] hover:bg-[#009ABC] flex justify-center items ".concat("outlined"===o?"bg-transparent text-textColor hover:bg-slate-100 border-2":"text-white bg-highlight"," ").concat(s),children:i?(0,a.jsx)("div",{className:"loader-async"}):l})};s.Z=l},99537:function(e,s,t){"use strict";var a=t(85893);let r=e=>{let{className:s,children:t}=e;return(0,a.jsx)("div",{className:"bg-[#ffffff] rounded-md shadow-sm w-full p-4 ".concat(s),children:t})};s.Z=r},27090:function(e,s,t){"use strict";var a=t(85893),r=t(86893),l=t(85825);let n=e=>{let{type:s,name:t,confirmDelete:n,closeModal:o}=e;return(0,a.jsxs)("div",{className:" text-center w-full space-y-5",children:[(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)(r.Ybf,{className:"text-red-600 text-center border-2 border-red-500 p-2 rounded-full ",size:"70px"})}),(0,a.jsxs)("h4",{className:"text-2xl font-semibold ",children:["You are about to delete this ",s]}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium text-highlight mr-2 capitalize ",children:[t," ",s]}),"will be deleted permamently",(0,a.jsx)("br",{})," Are you sure?"]}),(0,a.jsxs)("div",{className:"flex gap-7 items-center justify-end",children:[(0,a.jsx)(l.Z,{variant:"outlined",onClick:o,children:"Cancel"}),(0,a.jsx)(l.Z,{className:"bg-red-500 hover:bg-red-400",onClick:n,children:"Delete"})]})]})};s.Z=n},29186:function(e,s,t){"use strict";var a=t(85893);let r=e=>{let{label:s,type:t,value:r,name:l,onChange:n,error:o,errorMessage:i,id:c}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative  group min-w-xs ",children:[(0,a.jsx)("label",{htmlFor:"",className:"absolute left-3  top-1/2\n        -translate-y-1/2 \n      \n        group-focus-within:bg-white\n        group-focus-within:translate-y-[-200%]\n        group-focus-within:px-1 \n        group-focus-within:text-highlight transition-transform pointer-events-none\n         leading-none\n        group-focus-within:scale-90   duration-300 text-[#BDC0CC] ".concat(r?"translate-y-[-200%]  text-highlight  scale-90 px-1 bg-white":""," ").concat(o?" text-red-400":""),children:s}),(0,a.jsx)("input",{type:t,value:r,name:l,className:"border-[1px] border-slate-300 rounded-md w-full p-2 outline-highlight hover:border-slate-800  bg-transparent focus:border-highlight focus:outline-none ".concat(o?"border border-red-400":""),onChange:n,autoComplete:"new-password",id:c})]}),o?(0,a.jsx)("p",{className:"text-xs text-red-400 mt-1",children:i}):null]})};s.Z=r},18243:function(e,s,t){"use strict";var a=t(85893),r=t(90044),l=t(67294);let n=e=>{let{columns:s,onClick:t,setTableRow:n,data:o}=e,i=(0,l.useMemo)(()=>s(t,e=>n(e)),[]);return(0,a.jsx)(r.ZP,{columns:i,data:o,pagination:!0,customStyles:{header:{style:{}},headRow:{style:{background:"rgba(37, 121, 169, 0.3)",borderRadius:"4px 4px 0px 0px",color:"#fff",fontWeight:"600",fontSize:"14px",lineHeight:"18px",border:"none"}},cells:{style:{borderBottom:"0.5px solid #ccc","&:not(:last-of-type)":{borderBottom:"0.5px solid #ccc"}}},rows:{style:{borderBottom:"0px solid #ccc","&:not(:last-of-type)":{borderBottom:"0px solid #ccc"}}}},selectableRows:!0})};s.Z=n},9061:function(e,s,t){"use strict";t.d(s,{z:function(){return d},S:function(){return m}});var a=t(85893),r=t(41664),l=t.n(r),n=t(86893);let o=e=>{let{row:s,onClick:t,setTableRow:r,show:o}=e,i=()=>{t(),r(s)};return(0,a.jsxs)("div",{className:"flex gap-3 items-center text-[#333] cursor-pointer",children:[o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{href:"documents/".concat(s.id.toString()),children:(0,a.jsx)(n.NOg,{size:"20px"})}),(0,a.jsx)(n._hL,{size:"20px"})]}):null,(0,a.jsx)(n.Ybf,{size:"20px",onClick:i,className:"text-pink-600"})]})};var i=t(25675),c=t.n(i);let d=(e,s)=>[{name:"Document Name",selector:e=>e.name,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.name})},{name:"Document Type",selector:e=>e.type,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.type})},{name:"Document Date",selector:e=>e.creationDate,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:"".concat(new Date(e.creationDate).getDate(),"-").concat(new Date(e.creationDate).getMonth()+1,"-").concat(new Date(e.creationDate).getFullYear())})},{name:"Staff",selector:e=>e.staff,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.staff})},{name:"Actions",center:!0,allowOverflow:!0,cell:t=>(0,a.jsx)(o,{row:t,onClick:e,setTableRow:e=>s(e),show:!0})}],m=(e,s)=>[{name:"User",selector:e=>e.firstName,sortable:!0,minWidth:"180px",cell:e=>(0,a.jsxs)("p",{className:" text-base text-[#1a1a1ab8] flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-highlight text-3xl",children:e.imageUrl?(0,a.jsx)(c(),{src:e.imageUrl,alt:"user",width:20,height:20}):(0,a.jsx)(n.fzv,{})}),(0,a.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[e.firstName," ",e.lastName]})]})},{name:"Email",selector:e=>e.email,sortable:!0,minWidth:"280px",cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.email})},{name:"Phone Number",selector:e=>e.phoneNumber,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.phoneNumber})},{name:"Address",selector:e=>e.address,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.address})},{name:"Actions",center:!0,allowOverflow:!0,cell:t=>(0,a.jsx)(o,{row:t,onClick:e,setTableRow:e=>s(e)})}]},50562:function(e,s,t){"use strict";var a=t(48228),r=t(53641),l=t(25192);let n=(e,s,t)=>{let n=(0,a.D)(()=>r.p.request({method:"delete",url:e}),{onSuccess:()=>{(0,l.C)("".concat(s," deleted successfully")),t()}});return n};s.Z=n},8493:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(85893),r=t(99537),l=t(18243),n=t(9061),o=t(85825),i=t(55260),c=t(29186),d=t(67848),m=t(53641);let u=e=>{let{options:s,placeholder:t,onChange:r,id:l,name:n}=e;return(0,a.jsxs)("select",{id:l,placeholder:t,onChange:r,name:n,className:"border border-slate-300 rounded-lg w-full p-2 outline-highlight hover:border-slate-800  bg-transparent focus:border-highlight focus:outline-none",children:[(0,a.jsx)("option",{value:null,disabled:!0,children:"Select Role"}),s.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]})},x=[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}];var h=t(85945),p=t(48228),f=t(67294),b=t(25192),g=t(6230),j=t.n(g),w=t(50562);let N=()=>{let e=new(j()),s=/^(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])(?=.*[a-zA-Z0-9]).*$/,[t,a]=(0,f.useState)({firstName:"",lastName:"",email:"",position:"",role:null,staff:"",address:"",userPassword:"",confirmUserPassword:"",image:""}),[r,l]=(0,f.useState)(!1),[n,o]=(0,f.useState)(!1),[i,c]=(0,f.useState)(""),d=()=>{l(!0)},u=()=>{x.mutate()},x=(0,w.Z)("Dashboard/Admin/DeleteAUser?id=".concat(i.id),"User",()=>{l(!1),g.invalidateQueries(["users"])}),g=(0,h.NL)(),[N,v]=(0,f.useState)({state:!1,message:""}),C=(0,p.D)(async()=>{e.append("Email",t.email),e.append("FirstName",t.firstName),e.append("LastName",t.lastName),e.append("Position",t.position),e.append("Role",t.role),e.append("Address",t.address),e.append("Password",t.userPassword),e.append("ConfirmPassword",t.confirmUserPassword),e.append("Image",t.image);let s=await m.p.request({url:"/Dashboard/Admin/CreateUser",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}});return s},{onSuccess:()=>{(0,b.C)("User Created successfuly"),g.invalidateQueries(["users"]),o(!1),a({firstName:"",lastName:"",email:"",position:"",role:null,staff:"",address:"",userPassword:"",confirmUserPassword:""})}});return{userData:t,setUserData:a,handleChange:function(e){let s=e.target.name,r=e.target.value;a(e=>({...e,[s]:r})),t.userPassword===t.confirmUserPassword&&v({state:!1,message:""})},handleSubmit:function(e){e.preventDefault(),t.userPassword!==t.confirmUserPassword?v(()=>({state:!0,message:"Password do not match"})):s.test(t.userPassword)?(v({state:!1,message:""}),C.mutate()):v({state:!0,message:"At least one non alphanumeric character, uppercase"})},error:N,mutateFile:C,setAddUsersModal:o,showAddUsersModal:n,showDeleteModal:r,setGetTableRow:c,deleteUser:d,confirmDelete:u,setShowDeleteModal:l,tableRow:i}};var v=t(27090);let C=()=>{let{data:e}=(0,d.a)(["users"],()=>m.p.request({url:"dashboard/admin/getallusers"})),{userData:s,handleChange:t,handleSubmit:h,setUserData:p,error:f,mutateFile:b,setAddUsersModal:g,setGetTableRow:j,deleteUser:w,showDeleteModal:C,setShowDeleteModal:y,tableRow:P,confirmDelete:Z,showAddUsersModal:D}=N();return(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.Z,{className:"my-3",children:[(0,a.jsx)("h3",{className:"text-2xl",children:"Filter"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(c.Z,{label:"Search"}),(0,a.jsx)(o.Z,{onClick:()=>g(!0),children:"Add Users"})]})]}),(0,a.jsx)(r.Z,{children:(0,a.jsx)(l.Z,{columns:n.S,data:null==e?void 0:e.data,setTableRow:e=>j(e),onClick:w})}),(0,a.jsx)(i.Z,{openState:C,onClick:()=>y(!1),children:(0,a.jsx)(v.Z,{name:P.firstName,type:"user",confirmDelete:Z,closeModal:()=>y(!1)})}),(0,a.jsx)(i.Z,{openState:D,onClick:()=>g(!1),children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h3",{className:"text-xl font-medium",children:"Add User"}),(0,a.jsxs)("form",{action:"",onSubmit:h,autoComplete:"off",children:[(0,a.jsxs)("div",{className:" my-5 grid grid-cols-200 gap-5",children:[(0,a.jsx)(c.Z,{label:"First Name",name:"firstName",onChange:t,value:s.firstName,type:"text"}),(0,a.jsx)(c.Z,{label:"Last Name",name:"lastName",onChange:t,value:s.lastName,type:"text"}),(0,a.jsx)(c.Z,{label:"Email",name:"email",onChange:t,value:s.email,type:"text"}),(0,a.jsx)(c.Z,{label:"Position",name:"position",onChange:t,value:s.position,type:"text"}),(0,a.jsx)(c.Z,{label:"Address",name:"address",onChange:t,value:s.address,type:"text"}),(0,a.jsx)(u,{options:x,name:"role",placeholder:"Select Role",id:"role",onChange:t}),(0,a.jsx)(c.Z,{label:"Password",name:"userPassword",onChange:t,value:s.userPassword,type:"password",error:f.state,errorMessage:f.message,id:"userPassword"}),(0,a.jsx)(c.Z,{label:"Confirm Password",name:"confirmUserPassword",onChange:t,value:s.confirmUserPassword,type:"password",error:f.state,id:"userConfirmPassword"})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("label",{htmlFor:"profile-image",className:"block text-center border border-slate-300 rounded-lg w-full p-2 bg-[#ADD8E6] text-white",children:s.image?s.image.name:"Choose Profile Picture"}),(0,a.jsx)("input",{type:"file",name:"",id:"profile-image",className:"hidden",onChange:e=>p(s=>({...s,image:e.target.files[0]})),accept:"image/*"})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-end gap-4",children:[(0,a.jsx)(o.Z,{variant:"outlined",onClick:()=>g(!1),children:"Cancel"}),(0,a.jsx)(o.Z,{onClick:e=>{h(e),b.isSuccess&&D(!1)},loading:b.isLoading,children:"Submit"})]})]})]})})]})};var y=C},25192:function(e,s,t){"use strict";t.d(s,{C:function(){return c}});var a=t(85893),r=t(86455),l=t.n(r),n=t(77630),o=t.n(n);let i=o()(l()),c=e=>i.fire({title:(0,a.jsx)("strong",{children:"Successful"}),html:(0,a.jsx)("i",{children:e}),icon:"success"})}},function(e){e.O(0,[711,848,44,774,888,179],function(){return e(e.s=47306)}),_N_E=e.O()}]);