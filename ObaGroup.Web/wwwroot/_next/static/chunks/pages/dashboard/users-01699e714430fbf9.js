(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},47306:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users",function(){return s(8493)}])},85825:function(e,t,s){"use strict";var a=s(85893),r=s(17064);let l=e=>{let{className:t,onClick:s,children:l,type:n,variant:o="contained"}=e;return(0,a.jsx)(r.E.button,{whileTap:{y:1.5},onClick:s,type:n,className:"rounded-md capitalize p-2  min-w-[100px] hover:bg-[#009ABC] ".concat("outlined"===o?"bg-transparent text-textColor hover:bg-slate-100 border-2":"text-white bg-highlight"," ").concat(t),children:l})};t.Z=l},99537:function(e,t,s){"use strict";var a=s(85893);let r=e=>{let{className:t,children:s}=e;return(0,a.jsx)("div",{className:"bg-[#ffffff] rounded-md shadow-sm w-full p-4 ".concat(t),children:s})};t.Z=r},29186:function(e,t,s){"use strict";var a=s(85893);let r=e=>{let{label:t,type:s,value:r,name:l,onChange:n,error:o,errorMessage:i,id:c}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative  group min-w-xs ",children:[(0,a.jsx)("label",{htmlFor:"",className:"absolute left-3  top-1/2\n        -translate-y-1/2 \n        group-focus-within:bg-white\n        group-focus-within:translate-y-[-200%]\n        group-focus-within:px-1 \n        group-focus-within:text-highlight transition-transform pointer-events-none\n         leading-none\n        group-focus-within:scale-90   duration-300 text-[#BDC0CC] ".concat(r?"translate-y-[-200%] text-highlight  scale-90 px-1 bg-white":""," ").concat(o?" text-red-400":""),children:t}),(0,a.jsx)("input",{type:s,value:r,name:l,className:"border-[1px] border-slate-300 rounded-md w-full p-2 outline-highlight hover:border-slate-800  bg-transparent focus:border-highlight focus:outline-none ".concat(o?"border border-red-400":""),onChange:n,autoComplete:"new-password",id:c})]}),o?(0,a.jsx)("p",{className:"text-xs text-red-400 mt-1",children:i}):null]})};t.Z=r},18243:function(e,t,s){"use strict";var a=s(85893),r=s(90044),l=s(67294);let n=e=>{let{columns:t,onClick:s,setTableRow:n,data:o}=e,i=(0,l.useMemo)(()=>t(s,e=>n(e)),[]);return(0,a.jsx)(r.ZP,{columns:i,data:o,pagination:!0,customStyles:{header:{style:{}},headRow:{style:{background:"rgba(37, 121, 169, 0.3)",borderRadius:"4px 4px 0px 0px",color:"#fff",fontWeight:"600",fontSize:"14px",lineHeight:"18px",border:"none"}},cells:{style:{borderBottom:"0.5px solid #ccc","&:not(:last-of-type)":{borderBottom:"0.5px solid #ccc"}}},rows:{style:{borderBottom:"0px solid #ccc","&:not(:last-of-type)":{borderBottom:"0px solid #ccc"}}}},selectableRows:!0})};t.Z=n},9061:function(e,t,s){"use strict";s.d(t,{z:function(){return d},S:function(){return m}});var a=s(85893),r=s(41664),l=s.n(r),n=s(86893);let o=e=>{let{row:t,onClick:s,setTableRow:r,show:o}=e,i=()=>{s(),r(t)};return(0,a.jsxs)("div",{className:"flex gap-3 items-center text-[#333] cursor-pointer",children:[o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{href:"documents/".concat(t.id.toString()),children:(0,a.jsx)(n.NOg,{size:"20px"})}),(0,a.jsx)(n._hL,{size:"20px"})]}):null,(0,a.jsx)(n.Ybf,{size:"20px",onClick:i})]})};var i=s(25675),c=s.n(i);let d=(e,t)=>[{name:"Document Name",selector:e=>e.name,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.name})},{name:"Document Type",selector:e=>e.type,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.type})},{name:"Document Date",selector:e=>e.creationDate,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:"".concat(new Date(e.creationDate).getDate(),"-").concat(new Date(e.creationDate).getMonth()+1,"-").concat(new Date(e.creationDate).getFullYear())})},{name:"Staff",selector:e=>e.staff,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.staff})},{name:"Actions",center:!0,allowOverflow:!0,cell:s=>(0,a.jsx)(o,{row:s,onClick:e,setTableRow:e=>t(e),show:!0})}],m=(e,t)=>[{name:"User",selector:e=>e.firstName,sortable:!0,minWidth:"180px",cell:e=>(0,a.jsxs)("p",{className:" text-base text-[#1a1a1ab8] flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-highlight text-3xl",children:e.imageUrl?(0,a.jsx)(c(),{src:e.imageUrl,alt:"user",width:20,height:20}):(0,a.jsx)(n.fzv,{})}),(0,a.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[e.firstName," ",e.lastName]})]})},{name:"Email",selector:e=>e.email,sortable:!0,minWidth:"280px",cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.email})},{name:"Phone Number",selector:e=>e.phoneNumber,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.phoneNumber})},{name:"Address",selector:e=>e.address,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.address})},{name:"Actions",center:!0,allowOverflow:!0,cell:s=>(0,a.jsx)(o,{row:s,onClick:e,setTableRow:e=>t(e)})}]},50562:function(e,t,s){"use strict";var a=s(48228),r=s(53641),l=s(25192);let n=(e,t)=>{let s=(0,a.D)(()=>r.p.request({method:"delete",url:e}),{onSuccess:()=>(0,l.C)("".concat(t," deleted successfully"))});return s};t.Z=n},8493:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(85893),r=s(99537),l=s(18243),n=s(9061),o=s(67294),i=s(85825),c=s(55260),d=s(86893),m=s(29186),u=s(50562),h=s(67848),x=s(53641);let p=e=>{let{options:t,placeholder:s,onChange:r,id:l,name:n}=e;return(0,a.jsxs)("select",{id:l,placeholder:s,onChange:r,name:n,className:"border border-slate-300 rounded-lg w-full p-2 outline-highlight hover:border-slate-800  bg-transparent focus:border-highlight focus:outline-none",children:[(0,a.jsx)("option",{value:"",children:"Select Role"}),t.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]})},f=[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}];var b=s(48228),g=s(25192),j=s(6230),w=s.n(j);let N=()=>{let e=new(w()),t=/^(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])(?=.*[a-zA-Z0-9]).*$/,[s,a]=(0,o.useState)({firstName:"",lastName:"",email:"",position:"",role:null,staff:"",address:"",userPassword:"",confirmUserPassword:"",image:""}),[r,l]=(0,o.useState)({state:!1,message:""}),n=(0,b.D)(async()=>{e.append("Email",s.email),e.append("FirstName",s.firstName),e.append("LastName",s.lastName),e.append("Position",s.position),e.append("Role",s.role),e.append("Address",s.address),e.append("Password",s.userPassword),e.append("ConfirmPassword",s.confirmUserPassword),e.append("Image",s.image);let t=await x.p.request({url:"/Dashboard/Admin/CreateUser",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}});return t},{onSuccess:()=>{(0,g.C)("User Created successfuly"),a({firstName:"",lastName:"",email:"",position:"",role:null,staff:"",address:"",userPassword:"",confirmUserPassword:""})}});return{userData:s,setUserData:a,handleChange:function(e){let t=e.target.name,r=e.target.value;a(e=>({...e,[t]:r})),s.userPassword===s.confirmUserPassword&&l({state:!1,message:""})},handleSubmit:function(e){e.preventDefault(),s.userPassword!==s.confirmUserPassword?l(()=>({state:!0,message:"Password do not match"})):t.test(s.userPassword)?(l({state:!1,message:""}),n.mutate()):l({state:!0,message:"At least one non alphanumeric character, uppercase"})},error:r,mutateFile:n}},v=()=>{let{data:e}=(0,h.a)(["users"],()=>x.p.request({url:"dashboard/admin/getallusers"})),[t,s]=(0,o.useState)(!1),[b,g]=(0,o.useState)(!1),[j,w]=(0,o.useState)(""),v=()=>{s(!0)},C=()=>{y.mutate()},y=(0,u.Z)("Dashboard/Admin/DeleteAUser?id=".concat(j.id),"User"),{userData:P,handleChange:Z,handleSubmit:D,setUserData:S,error:k,mutateFile:A}=N();return(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.Z,{className:"my-3",children:[(0,a.jsx)("h3",{className:"text-2xl",children:"Filter"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m.Z,{label:"Search"}),(0,a.jsx)(i.Z,{onClick:()=>g(!0),children:"Add Users"})]})]}),(0,a.jsx)(r.Z,{children:(0,a.jsx)(l.Z,{columns:n.S,data:null==e?void 0:e.data,setTableRow:e=>w(e),onClick:v})}),(0,a.jsx)(c.Z,{openState:t,onClick:()=>s(!1),children:(0,a.jsxs)("div",{className:"max-w-md text-center w-full space-y-5",children:[(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)(d.Ybf,{className:"text-red-600 text-center border-2 border-red-500 p-2 rounded-full ",size:"70px"})}),(0,a.jsx)("h4",{className:"text-2xl font-semibold ",children:"You are about to delete this document"}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium text-highlight mr-2 capitalize ",children:["User ",j.firstName]}),"will be deleted permamently",(0,a.jsx)("br",{})," Are you sure?"]}),(0,a.jsxs)("div",{className:"flex gap-7 items-center justify-end",children:[(0,a.jsx)(i.Z,{variant:"outlined",children:"Cancel"}),(0,a.jsx)(i.Z,{className:"bg-red-500 hover:bg-red-400",onClick:C,children:"Delete"})]})]})}),(0,a.jsx)(c.Z,{openState:b,onClick:()=>g(!1),children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h3",{className:"text-xl font-medium",children:"Add User"}),(0,a.jsxs)("form",{action:"",onSubmit:D,autoComplete:"off",children:[(0,a.jsxs)("div",{className:" my-5 grid grid-cols-200 gap-5",children:[(0,a.jsx)(m.Z,{label:"First Name",name:"firstName",onChange:Z,value:P.firstName,type:"text"}),(0,a.jsx)(m.Z,{label:"Last Name",name:"lastName",onChange:Z,value:P.lastName,type:"text"}),(0,a.jsx)(m.Z,{label:"Email",name:"email",onChange:Z,value:P.email,type:"text"}),(0,a.jsx)(m.Z,{label:"Position",name:"position",onChange:Z,value:P.position,type:"text"}),(0,a.jsx)(m.Z,{label:"Address",name:"address",onChange:Z,value:P.address,type:"text"}),(0,a.jsx)(p,{options:f,name:"role",placeholder:"Select Role",id:"role",onChange:Z}),(0,a.jsx)(m.Z,{label:"Password",name:"userPassword",onChange:Z,value:P.userPassword,type:"password",error:k.state,errorMessage:k.message,id:"userPassword"}),(0,a.jsx)(m.Z,{label:"Confirm Password",name:"confirmUserPassword",onChange:Z,value:P.confirmUserPassword,type:"password",error:k.state,id:"userConfirmPassword"})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("label",{htmlFor:"profile-image",className:"block text-center border border-slate-300 rounded-lg w-full p-2 bg-[#ADD8E6] text-white",children:"Choose Profile Picture"}),(0,a.jsx)("input",{type:"file",name:"",id:"profile-image",className:"hidden",onChange:e=>S(t=>({...t,image:e.target.files[0]})),accept:"image/*"})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-end gap-4",children:[(0,a.jsx)(i.Z,{variant:"outlined",onClick:()=>g(!1),children:"Cancel"}),(0,a.jsx)(i.Z,{onClick:()=>{D(),A.isSuccess&&b(!1)},children:"Submit"})]})]})]})})]})};var C=v},25192:function(e,t,s){"use strict";s.d(t,{C:function(){return c}});var a=s(85893),r=s(86455),l=s.n(r),n=s(77630),o=s.n(n);let i=o()(l()),c=e=>i.fire({title:(0,a.jsx)("strong",{children:"Successful"}),html:(0,a.jsx)("i",{children:e}),icon:"success"})}},function(e){e.O(0,[711,848,44,774,888,179],function(){return e(e.s=47306)}),_N_E=e.O()}]);