(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{36041:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/calendar",function(){return a(43372)}])},85825:function(e,t,a){"use strict";var n=a(85893),r=a(17064);let i=e=>{let{className:t,onClick:a,children:i,type:s,variant:l="contained",loading:d}=e;return(0,n.jsx)(r.E.button,{whileTap:{y:1.5},onClick:a,type:s,className:"rounded-md capitalize p-2  min-w-[100px] hover:bg-[#009ABC] flex justify-center items ".concat("outlined"===l?"bg-transparent text-textColor hover:bg-slate-100 border-2":"text-white bg-highlight"," ").concat(t),children:d?(0,n.jsx)("div",{className:"loader-async"}):i})};t.Z=i},99537:function(e,t,a){"use strict";var n=a(85893);let r=e=>{let{className:t,children:a}=e;return(0,n.jsx)("div",{className:"bg-[#ffffff] rounded-md shadow-sm w-full p-4 ".concat(t),children:a})};t.Z=r},90197:function(e,t,a){"use strict";var n=a(85893);a(67294);var r=a(9198),i=a.n(r);let s=e=>{let{value:t,onChange:a,name:r,inline:s,placeholderText:l,showTimeSelect:d,dateFormat:c}=e;return(0,n.jsx)(i(),{selected:t,onChange:a,className:"border-[1px] border-slate-300 rounded-lg w-full p-2 outline-highlight hover:border-slate-800 bg-transparent z-100",placeholderText:l||"Click to select date",name:r,inline:s,showTimeSelect:d,showIcon:!0,dateFormat:c})};t.Z=s},43372:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var n=a(85893),r=a(85825),i=a(96827),s=a(28624);a(36775);var l=a(29387),d=a.n(l),c=a(27484),o=a.n(c),u=a(67294),h=a(48228),m=a(53641);o().extend(d());let v=(0,i.VL)(o()),f=(0,s.Z)(i.f),p={container:{width:"80wh",height:"60vh",margin:"2em"}};function x(e){let{event:t=[]}=e,a=new FormData,r=(0,h.D)(e=>(a.append("StartDateTime",o()(e.startDateTime.toISOString()).format("YYYY-MM-DDTHH:mm")),a.append("EndDateTime",o()(e.endDateTime.toISOString()).format("YYYY-MM-DDTHH:mm")),a.append("EventId",e.id),m.p.request({url:"/Dashboard/Calendar/PatchAnEvent",method:"POST",data:a,headers:{"Content-Type":"multipart/form-data"}}))),[s,l]=(0,u.useState)([]);(0,u.useEffect)(()=>{l(t)},[t]);let d=(0,u.useCallback)(e=>{let{event:t,start:a,end:n,isAllDay:i=!1}=e,{allDay:s}=t;!s&&i&&(t.allDay=!0),l(e=>{var i;let l=null!==(i=e.find(e=>e.id===t.id))&&void 0!==i?i:{},d=e.filter(e=>e.id!==t.id);return r.mutate({startDateTime:a,endDateTime:n,id:l.id}),[...d,{...l,start:a,end:n,allDay:s}]})},[l]),c=(0,u.useCallback)(e=>{let{event:t,start:a,end:n}=e;l(e=>{var r;let i=null!==(r=e.find(e=>e.id===t.id))&&void 0!==r?r:{},s=e.filter(e=>e.id!==t.id);return[...s,{...i,start:a,end:n}]})},[l]);return(0,n.jsx)("div",{style:p.container,children:(0,n.jsx)(f,{selectable:!0,localizer:v,events:s,defaultView:i.kO.MONTH,views:[i.kO.DAY,i.kO.WEEK,i.kO.MONTH],steps:60,defaultDate:new Date,onEventDrop:d,onEventResize:c})})}var D=a(99537),w=a(90197),T=a(67848),j=a(41664),b=a.n(j),g=a(11163);let E=()=>{var e;let t=(0,g.useRouter)(),{data:a}=(0,T.a)(["events"],()=>m.p.request({method:"get",url:"Dashboard/Calendar/ListEvents?EventMaxTimeRange=2024-04-30T11:50&EventMinTimeRange=2023-04-20T11:50"}),{onSuccess:e=>{var a;(null===(a=e.data)||void 0===a?void 0:a.items)||t.push(e.data)}}),i=null===(e=null==a?void 0:a.data.items)||void 0===e?void 0:e.map((e,t)=>({id:t,title:e.summary,start:new Date(e.start.dateTime),end:new Date(e.end.dateTime)}));return(0,n.jsxs)("div",{children:[(0,n.jsxs)(D.Z,{className:"my-4",children:[(0,n.jsx)("h3",{children:"Filter"}),(0,n.jsxs)("div",{className:"flex justify-between my-4",children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("p",{children:"Start Date"}),(0,n.jsx)(w.Z,{})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("p",{children:"End Date"}),(0,n.jsx)(w.Z,{})]})]}),(0,n.jsx)(b(),{href:"/dashboard/calendar/create",children:(0,n.jsx)(r.Z,{children:"Create Event"})})]})]}),(0,n.jsx)(x,{event:i})]})};var N=E}},function(e){e.O(0,[770,198,115,774,888,179],function(){return e(e.s=36041)}),_N_E=e.O()}]);