(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},47306:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users",function(){return s(8493)}])},85825:function(e,t,s){"use strict";var a=s(85893),l=s(17064);let n=e=>{let{className:t,onClick:s,children:n,type:r,variant:i="contained",loading:o}=e;return(0,a.jsx)(l.E.button,{whileTap:{y:1.5},onClick:s,type:r,className:"rounded-md capitalize p-2  min-w-[100px] hover:bg-[#009ABC] flex justify-center items ".concat("outlined"===i?"bg-transparent text-textColor hover:bg-slate-100 border-2":"text-white bg-highlight"," ").concat(t),children:o?(0,a.jsx)("div",{className:"loader-async"}):n})};t.Z=n},99537:function(e,t,s){"use strict";var a=s(85893);let l=e=>{let{className:t,children:s}=e;return(0,a.jsx)("div",{className:"bg-[#ffffff] rounded-md shadow-sm w-full p-4 ".concat(t),children:s})};t.Z=l},27090:function(e,t,s){"use strict";var a=s(85893),l=s(86893),n=s(85825);let r=e=>{let{type:t,name:s,confirmDelete:r,closeModal:i}=e;return(0,a.jsxs)("div",{className:" text-center w-full space-y-5",children:[(0,a.jsx)("div",{className:"grid place-items-center",children:(0,a.jsx)(l.Ybf,{className:"text-red-600 text-center border-2 border-red-500 p-2 rounded-full ",size:"70px"})}),(0,a.jsxs)("h4",{className:"text-2xl font-semibold ",children:["You are about to delete this ",t]}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium text-highlight mr-2 capitalize ",children:[s," ",t]}),"will be deleted permamently",(0,a.jsx)("br",{})," Are you sure?"]}),(0,a.jsxs)("div",{className:"flex gap-7 items-center justify-end",children:[(0,a.jsx)(n.Z,{variant:"outlined",onClick:i,children:"Cancel"}),(0,a.jsx)(n.Z,{className:"bg-red-500 hover:bg-red-400",onClick:r,children:"Delete"})]})]})};t.Z=r},29186:function(e,t,s){"use strict";var a=s(85893);let l=e=>{let{label:t,type:s,value:l,name:n,onChange:r,error:i,errorMessage:o,id:c,multiple:d}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative  group min-w-xs ",children:[(0,a.jsx)("label",{htmlFor:"",className:"absolute left-3  top-1/2\n        -translate-y-1/2 \n      \n        group-focus-within:bg-white\n        group-focus-within:translate-y-[-200%]\n        group-focus-within:px-1 \n        group-focus-within:text-highlight transition-transform pointer-events-none\n         leading-none\n        group-focus-within:scale-90   duration-300 text-[#BDC0CC] ".concat(l?"translate-y-[-200%]  text-highlight  scale-90 px-1 bg-white":""," ").concat(i?" text-red-400":""),children:t}),(0,a.jsx)("input",{type:s,value:l,name:n,className:"border-[1px] border-slate-300 rounded-md w-full p-2 outline-highlight hover:border-slate-800  bg-transparent focus:border-highlight focus:outline-none ".concat(i?"border border-red-400":""),onChange:r,autoComplete:"new-password",id:c,multiple:d})]}),i?(0,a.jsx)("p",{className:"text-xs text-red-400 mt-1",children:o}):null]})};t.Z=l},18243:function(e,t,s){"use strict";var a=s(85893),l=s(90044),n=s(67294);let r=e=>{let{columns:t,onClick:s,setTableRow:r,data:i}=e,o=(0,n.useMemo)(()=>t(s,e=>r(e)),[]);return(0,a.jsx)(l.ZP,{columns:o,data:i,pagination:!0,customStyles:{header:{style:{}},headRow:{style:{background:"rgba(37, 121, 169, 0.3)",borderRadius:"4px 4px 0px 0px",color:"#fff",fontWeight:"600",fontSize:"14px",lineHeight:"18px",border:"none"}},cells:{style:{borderBottom:"0.5px solid #ccc","&:not(:last-of-type)":{borderBottom:"0.5px solid #ccc"}}},rows:{style:{borderBottom:"0px solid #ccc","&:not(:last-of-type)":{borderBottom:"0px solid #ccc"}}}},selectableRows:!0})};t.Z=r},9061:function(e,t,s){"use strict";s.d(t,{z:function(){return d},S:function(){return m}});var a=s(85893),l=s(41664),n=s.n(l),r=s(86893);let i=e=>{let{row:t,onClick:s,setTableRow:l,show:i}=e,o=()=>{s(),l(t)};return(0,a.jsxs)("div",{className:"flex gap-3 items-center text-[#333] cursor-pointer",children:[i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"documents/details/".concat(t.id.toString()),children:(0,a.jsx)(r.NOg,{size:"20px"})}),(0,a.jsx)(r._hL,{size:"20px"})]}):null,(0,a.jsx)(r.Ybf,{size:"20px",onClick:o,className:"text-pink-600"})]})};var o=s(25675),c=s.n(o);let d=(e,t)=>[{name:"Document Name",selector:e=>e.name,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.name})},{name:"Document Type",selector:e=>e.type,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.type})},{name:"Document Date",selector:e=>e.creationDate,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:"".concat(new Date(e.creationDate).getDate(),"-").concat(new Date(e.creationDate).getMonth()+1,"-").concat(new Date(e.creationDate).getFullYear())})},{name:"Staff",selector:e=>e.staff,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.staff})},{name:"Actions",center:!0,allowOverflow:!0,cell:s=>(0,a.jsx)(i,{row:s,onClick:e,setTableRow:e=>t(e),show:!0})}],m=(e,t)=>[{name:"User",selector:e=>e.firstName,sortable:!0,minWidth:"180px",cell:e=>(0,a.jsxs)("p",{className:" text-base text-[#1a1a1ab8] flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-highlight text-3xl",children:e.imageUrl?(0,a.jsx)(c(),{src:e.imageUrl,alt:"user",width:20,height:20}):(0,a.jsx)(r.fzv,{})}),(0,a.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[e.firstName," ",e.lastName]})]})},{name:"Email",selector:e=>e.email,sortable:!0,minWidth:"280px",cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.email})},{name:"Phone Number",selector:e=>e.phoneNumber,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.phoneNumber})},{name:"Position",selector:e=>e.position,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.position})},{name:"Address",selector:e=>e.address,sortable:!0,cell:e=>(0,a.jsx)("p",{className:" text-base text-[#1a1a1ab8]",children:e.address})},{name:"Actions",center:!0,allowOverflow:!0,cell:s=>(0,a.jsx)(i,{row:s,onClick:e,setTableRow:e=>t(e)})}]},50562:function(e,t,s){"use strict";var a=s(48228),l=s(53641),n=s(25192);let r=(e,t,s)=>{let r=(0,a.D)(()=>l.p.request({method:"delete",url:e}),{onSuccess:()=>{(0,n.C)("".concat(t," deleted successfully")),s()}});return r};t.Z=r},8493:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var a=s(85893),l=s(99537),n=s(18243),r=s(9061),i=s(85825),o=s(55260),c=s(29186),d=s(67848),m=s(53641);let u=e=>{let{options:t,placeholder:s,onChange:l,id:n,name:r}=e;return(0,a.jsxs)("select",{id:n,placeholder:s,onChange:l,name:r,className:"border border-slate-300 rounded-lg w-full p-2 outline-highlight hover:border-slate-800  bg-transparent focus:border-highlight focus:outline-none",children:[(0,a.jsx)("option",{value:null,disabled:!0,children:"Select Role"}),t.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]})},x=[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}];var h=s(85945),p=s(48228),f=s(67294),b=s(25192),g=s(6230),j=s.n(g),N=s(50562);let v=()=>{let e=new(j()),[t,s]=(0,f.useState)({firstName:"",lastName:"",email:"",position:"",role:x[0].value,staff:"",address:"",userPassword:"Admin123*",confirmUserPassword:"Admin123*",image:""}),[a,l]=(0,f.useState)(!1),[n,r]=(0,f.useState)(!1),[i,o]=(0,f.useState)(""),c=()=>{l(!0)},d=()=>{u.mutate()},u=(0,N.Z)("Dashboard/Admin/DeleteAUser?id=".concat(i.id),"User",()=>{l(!1),g.invalidateQueries(["users"])}),g=(0,h.NL)(),v=(0,p.D)(async()=>{e.append("Email",t.email),e.append("FirstName",t.firstName),e.append("LastName",t.lastName),e.append("Position",t.position),e.append("Role",t.role),e.append("Address",t.address),e.append("Password",t.userPassword),e.append("ConfirmPassword",t.confirmUserPassword),e.append("Image",t.image);let s=await m.p.request({url:"/Dashboard/Admin/CreateUser",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}});return s},{onSuccess:()=>{(0,b.C)("User Created successfuly"),g.invalidateQueries(["users"]),r(!1),s({firstName:"",lastName:"",email:"",position:"",role:null,staff:"",address:"",userPassword:"Admin123*",confirmUserPassword:"Admin123*"})}});return{userData:t,setUserData:s,handleChange:function(e){let t=e.target.name,a=e.target.value;s(e=>({...e,[t]:a}))},handleSubmit:function(e){e.preventDefault(),v.mutate()},mutateFile:v,setAddUsersModal:r,showAddUsersModal:n,showDeleteModal:a,setGetTableRow:o,deleteUser:c,confirmDelete:d,setShowDeleteModal:l,tableRow:i}};var w=s(27090),C=s(53854),y=s(8193);let D=()=>{let{data:e}=(0,d.a)(["users"],()=>m.p.request({url:"dashboard/admin/getallusers"})),{userData:t,handleChange:s,handleSubmit:h,setUserData:p,mutateFile:f,setAddUsersModal:b,setGetTableRow:g,deleteUser:j,showDeleteModal:N,setShowDeleteModal:D,tableRow:Z,confirmDelete:S,showAddUsersModal:k}=v();return(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.Z,{className:"my-3",children:[(0,a.jsx)("h3",{className:"text-2xl",children:"Filter"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(c.Z,{label:"Search"}),(0,a.jsx)(i.Z,{onClick:()=>b(!0),children:"Add Users"})]})]}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(n.Z,{columns:r.S,data:null==e?void 0:e.data,setTableRow:e=>g(e),onClick:j})}),(0,a.jsx)(o.Z,{openState:N,onClick:()=>D(!1),children:(0,a.jsx)(w.Z,{name:Z.firstName,type:"user",confirmDelete:S,closeModal:()=>D(!1)})}),(0,a.jsx)(o.Z,{openState:k,onClick:()=>b(!1),children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h3",{className:"text-xl font-medium",children:"Add User"}),(0,a.jsxs)("form",{action:"",onSubmit:h,autoComplete:"off",children:[(0,a.jsxs)("div",{className:" my-5 grid grid-cols-200 gap-5",children:[(0,a.jsx)(c.Z,{label:"First Name",name:"firstName",onChange:s,value:t.firstName,type:"text"}),(0,a.jsx)(c.Z,{label:"Last Name",name:"lastName",onChange:s,value:t.lastName,type:"text"}),(0,a.jsx)(c.Z,{label:"Email",name:"email",onChange:s,value:t.email,type:"text"}),(0,a.jsx)(c.Z,{label:"Position",name:"position",onChange:s,value:t.position,type:"text"}),(0,a.jsx)(c.Z,{label:"Address",name:"address",onChange:s,value:t.address,type:"text"}),(0,a.jsx)(u,{options:x,name:"role",placeholder:"Select Role",id:"role",onChange:s})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("label",{htmlFor:"profile-image",className:"block text-center border border-slate-300 rounded-lg w-full p-2 bg-[#ADD8E6] text-white",children:t.image?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.PjL,{}),t.image.name.slice(0,8)]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.IEK,{})," Choose Profile Picture"]})}),(0,a.jsx)("input",{type:"file",name:"",id:"profile-image",className:"hidden",onChange:e=>p(t=>({...t,image:e.target.files[0]})),accept:"image/*"})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-end gap-4",children:[(0,a.jsx)(i.Z,{variant:"outlined",onClick:()=>b(!1),children:"Cancel"}),(0,a.jsx)(i.Z,{onClick:e=>{h(e),f.isSuccess&&k(!1)},loading:f.isLoading,children:"Submit"})]})]})]})})]})};var Z=D},25192:function(e,t,s){"use strict";s.d(t,{C:function(){return c}});var a=s(85893),l=s(86455),n=s.n(l),r=s(77630),i=s.n(r);let o=i()(n()),c=e=>o.fire({title:(0,a.jsx)("strong",{children:"Successful"}),html:(0,a.jsx)("i",{children:e}),icon:"success"})}},function(e){e.O(0,[711,44,774,888,179],function(){return e(e.s=47306)}),_N_E=e.O()}]);